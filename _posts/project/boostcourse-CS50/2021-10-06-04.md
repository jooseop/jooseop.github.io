---
title:  "Boost Course CS50 Study 3주차. 배열"
excerpt:

categories:
  - cs50

toc: true
toc_sticky: true
 
date: 2021-10-06
---

# 컴파일

| source code         | compiler | machine code           |
| ------------------- | :------: | ---------------------- |
| high level language |   \->    | binary code            |
| 사람이 작성한 코드  | 컴파일러 | 컴퓨터가 사용하는 코드 |

-   컴파일러 : 컴파일 하는 프로그램 (ex. GCC, LLVM/Clang, ...)
-   컴파일러의 과정
    1.  전처리(Precompile) : 코드를 실행하기 위해 먼저 처리해야 할 것들을 진행하는 과정. 전처리기가 #으로 시작하는 전처리기 명령어를 수행함 (파일 포함하기, 매크로, ...)
    2.  컴파일(Compile) : C 코드를 어셈블리어(c보다 컴퓨터에 가까운 언어)로 변환시킴
    3.  어셈블(Assemble) : 어셈블리어를 오브젝트코드(연속된 0과 1들)로 변환시킴
    4.  링 킹(linking) : 프로그램 하나가 여러 코드의 파일로 이루어져있다면, 여러 코드의 파일들을 연결해주는 과정

# 디버깅

-   코드에 오류가 있는지 확인하는 과정
-   중지점을 (프로그램이 멈추는 특정 지점) 사용 > 프로그램이 한 줄씩 진행될 때마다, 어떤 일이 일어나는지 확인한다(변수, 출력값 등...)
-   IDE의 디버깅 프로그램을 활용 or printf 문장으로 출력을 통해 디버깅

# 코드의 디자인

-   코드의 정확성 & 가독성은 clean code를 위해 필요하다
-   cs50 IDE 프로그램
    -   help50 : 컴파일시 발생하는 에러 메시지 해석
    -   debug50 : 중지점을 지정하고, 한줄씩 코드 실행
    -   check50 : 코드의 정확성 확인
    -   style50 : 코드의 스타일 확인

---

# 배열

```c
int a = 72;
int b = 73;
int c = 33;

printf("Average: %i\n", (a + b + c) / 3);
```

⬇︎ 하나의 변수로 묶어서 관리

```c
int array[3];
array[0] = 72;
array[1] = 73;
array[2] = 33;

printf("Average: %i\n", (array[0] + array[1] + array[2]) / 3);
```

⬇︎ 고정된 값을, 전역 변수로 설정해서 사용 > 배열의 개수가 변경될 때, 위의 코드에서 2번 수정해야 할 것을 한 번만 수정하면 가능하게 수정

```c
const int N = 3;
    ...
    int scores[N];
    array[0] = 72;
    array[1] = 73;
    array[2] = 33;

    printf("Average: %i\n", (array[0] + array[1] + array[2]) / N);
```

⬇︎ 동적인 프로그램 작성 가능 (동적이다. 유동적이다. 사용자가 원하는 크기로 입력을 받을 수 있다.)

```c
// 배열의 크기
int n;
scanf("%i", &n);

int array[n];
int sum;

// 배열 입력을 받음
for (int i = 0; i < n; ++i) {
  scanf("%i", &array[i]);
  sum += array[i];
}

printf("Average: %i", sum/n);
```

# 문자열과 배열

-   string
    
    -   문자열 자료형
    -   2주차 c의 문자열 비교에서, 단순히 '=='을 사용하여 string 비교를 하면 안되고, strcmp 함수를 사용해야 했다.  
        
        string에서 '=='를 사용하는 것은, 문자를 비교하는 것이 아니라, 단지 문자열 배열의 첫 주소만 비교하는 것이라서 안된다.
    
    ```c
    str1 = “월요일”
    str2 = “월요일”
    if (str1 == str2)
    ```
    
-   문자열의 끝
    -   문자열의 끝에는 '\\0' 널 종단 문자가 있다.
    -   문자열을 한 글자씩 출력하고 싶다. for문을 사용하여 문자를 출력할 것이다.  
        
        s라는 문자열이 있다고 할 때 for (int i = 0; s\[i\] != ‘\\0’; i++) { ..} 과 같은 루프를 사용할 수도 있다.  
        
        이것을 for (int i = 0, n = strlen(s); i < n; i++) 이렇게 수정하여, 효율적인 방식으로 수정할 수 있다.  
        -   (기계어에 가까운 방식보다 프로그래밍으로 구현이 가능, 조건검사를 줄여 빠르게 실행함)
    -   → 효율적으로 프로그래밍을 하기 위한 다양한 라이브러리의 함수가 있다.

---

# 명령행 인자

-   명령행이란, 리눅스나 유닉스에서 명령어를 입력하는 행이다.  
    
    코드를 실행할 때, 명령행을 통해서 실행한다.  
    
    이때, 코드외의 추가 정보를 줄 수 있는데, 이러한 것들을 명령행 인자라고 한다.
-   ex)  
    1.  clang -o '변경하고 싶은 파일명' 'c파일명' : 머신코드 파일명을 변경할 수 있음
    2.  또는, 파일 시작 전, 입력을 받아 실행할 수 있음
-   c의 명령행 인자

```c
#include <cs50.h>
#include <stdio.h>

int main(int argc, string argv[])
{
    if (argc == 2)
    {
        printf("hello, %s\n", argv[1]);
    }
    else
    {
        printf("hello, world\n");
    }
}
```

> -   해석
>
> 1.  int argc : 입력의 개수
> 2.  string argv : 입력 문자열 배열
> 3.  문자열 배열에서, argv\[0\]은 기본적으로 프로그램의 이름이 저장된다. 따라서 입력한 문자열은 argv\[1\]에 저장된다.

> -   결과
>
> 1.  입력이 없이 프로그램만 실행하면, "hello, world"를 출력
> 2.  입력을 넣어 프로그램을 실행하면, "hello, (입력값)"을 출력  
>
>     입력을 넣은 경우는 argc = 2, argv\[1\] = (입력값)
